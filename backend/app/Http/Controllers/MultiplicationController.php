<?php

namespace App\Http\Controllers;

use Illuminate\Http\JsonResponse;

class MultiplicationController extends Controller
{
    public function getQuestion(): JsonResponse
    {
        $left = rand(1, 9);
        $right = rand(1, 9);
        $answer = $left * $right;

        $mnemonics = [
            '1x1' => 'いんいち が いち',
            '2x1' => 'にいち が に',
            '3x1' => 'さんいち が さん',
            '4x1' => 'しいち が し',
            '5x1' => 'ごいち が ご',
            '6x1' => 'ろくいち が ろく',
            '7x1' => 'しちいち が しち',
            '8x1' => 'はちいち が はち',
            '9x1' => 'くいち が く',
            '1x2' => 'いんに が に',
            '2x2' => 'ににん が し',
            '3x2' => 'さんに が ろく',
            '4x2' => 'しに が はち',
            '5x2' => 'ごに じゅう',
            '6x2' => 'ろくに じゅうに',
            '7x2' => 'しちに じゅうし',
            '8x2' => 'はちに じゅうろく',
            '9x2' => 'くに じゅうはち',
            '1x3' => 'いんさん が さん',
            '2x3' => 'にさん が ろく',
            '3x3' => 'さんさん が きゅう',
            '4x3' => 'しさん が じゅうに',
            '5x3' => 'ごさん が じゅうご',
            '6x3' => 'ろくさん が じゅうはち',
            '7x3' => 'しちさん が にじゅういち',
            '8x3' => 'はちさん が にじゅうし',
            '9x3' => 'くさん が にじゅうしち',
            '1x4' => 'いんし が し',
            '2x4' => 'にし が はち',
            '3x4' => 'さんし じゅうに',
            '4x4' => 'しし じゅうろく',
            '5x4' => 'ごし にじゅう',
            '6x4' => 'ろくし にじゅうし',
            '7x4' => 'しちし にじゅうはち',
            '8x4' => 'はちし さんじゅうに',
            '9x4' => 'くし さんじゅうろく',
            '1x5' => 'いんご が ご',
            '2x5' => 'にご じゅう',
            '3x5' => 'さんご じゅうご',
            '4x5' => 'しご にじゅう',
            '5x5' => 'ごご にじゅうご',
            '6x5' => 'ろくご さんじゅう',
            '7x5' => 'しちご さんじゅうご',
            '8x5' => 'はちご しじゅう',
            '9x5' => 'くご しじゅうご',
            '1x6' => 'いんろく が ろく',
            '2x6' => 'にろく じゅうに',
            '3x6' => 'さんろく じゅうはち',
            '4x6' => 'しろく にじゅうし',
            '5x6' => 'ごろく さんじゅう',
            '6x6' => 'ろくろく さんじゅうろく',
            '7x6' => 'しちろく しじゅうに',
            '8x6' => 'はちろく しじゅうはち',
            '9x6' => 'くろく ごじゅうし',
            '1x7' => 'いんしち が しち',
            '2x7' => 'にしち じゅうし',
            '3x7' => 'さんしち にじゅういち',
            '4x7' => 'ししち にじゅうはち',
            '5x7' => 'ごしち さんじゅうご',
            '6x7' => 'ろくしち しじゅうに',
            '7x7' => 'しちしち しじゅうく',
            '8x7' => 'はちしち ごじゅうろく',
            '9x7' => 'くしち ろくじゅうさん',
            '1x8' => 'いんはち が はち',
            '2x8' => 'にはち じゅうろく',
            '3x8' => 'さんぱ にじゅうし',
            '4x8' => 'しは さんじゅうに',
            '5x8' => 'ごは しじゅう',
            '6x8' => 'ろくは しじゅうはち',
            '7x8' => 'しちは ごじゅうろく',
            '8x8' => 'はっぱ ろくじゅうし',
            '9x8' => 'くは しちじゅうに',
            '1x9' => 'いんく が く',
            '2x9' => 'にく じゅうはち',
            '3x9' => 'さんく にじゅうしち',
            '4x9' => 'しく さんじゅうろく',
            '5x9' => 'ごっく しじゅうご',
            '6x9' => 'ろっく ごじゅうし',
            '7x9' => 'しちく ろくじゅうさん',
            '8x9' => 'はっく しちじゅうに',
            '9x9' => 'くく はちじゅういち',
        ];

        $key = "{$left}x{$right}";
        $mnemonic = $mnemonics[$key] ?? null;

        return response()->json([
            'left' => $left,
            'right' => $right,
            'answer' => $answer,
            'mnemonic' => $mnemonic,
        ]);
    }
}
